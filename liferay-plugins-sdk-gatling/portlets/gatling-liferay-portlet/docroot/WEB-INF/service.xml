<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE service-builder PUBLIC "-//Liferay//DTD Service Builder 6.2.0//EN" "http://www.liferay.com/dtd/liferay-service-builder_6_2_0.dtd">
<service-builder package-path="com.excilys.liferay.gatling">

	<namespace>StressTool</namespace>
	
	<entity name="Simulation" local-service="true" remote-service="false">
		<column name="simulation_id" type="long" primary="true"></column>
		<column name="name" type="String"></column>
		<column name="variableName" type="String"></column>
	</entity>
	
	<entity name="Scenario" local-service="true" remote-service="false">
		<column name="scenario_id" type="long" primary="true"></column>
		<column name="name" type="String" ></column>
		<column name="variableName" type="String"></column>
		<column name="url_site" type="String"></column>
		<column name="group_id" type="long"></column>
		<column name="simulation_id" type="long"></column>
		<column name="users_per_seconds" type="long"></column>
		<column name="duration" type="long"></column>		
		<finder name="SimulationId" return-type="Collection">
			<finder-column name="simulation_id" />
		</finder>		
	</entity>
	
	<entity name="Request" local-service="true" remote-service="false">
		<column name="request_id" type="long" primary="true"></column>
		<column name="scenario_id" type="long"></column>
		<column name="name" type="String"></column>
		<column name="url" type="String"></column>
		<column name="weight" type="double"></column>
		<column name="privatePage" type="boolean"></column>
		<column name="parentPlId" type="long"></column>
		<column name="layoutId" type="long"></column>
		<column name="plId" type="long"></column>
		<column name="isPortlet" type="boolean"></column>
		<column name="portetId" type="String"></column>
		<finder name="ScenarioId" return-type="Collection">
			<finder-column name="scenario_id" />
		</finder>		
		<finder name="ScenarioIdAndUsed" return-type="Collection">
			<finder-column name="scenario_id" />
			<finder-column name="weight" comparator=">" />
		</finder>
	</entity>
	
	
		
	<!-- link between a use case and portlet in scenario (library) -->
	<entity name="LinkUsecaseRequest" remote-service="false" local-service="true">
		<column name="linkUsecaseRequestId" type="long" primary="true" />
		<column name="request_id" type="long" />
		<column name="usecaseId" type="long" />
		<column name="weight" type="double" />
	</entity>
	
	<!-- use case  -->
	<entity name="Usecase" remote-service="false" local-service="true">
		<column name="usecaseId" type="long" primary="true" />
		<column name="portletId" type="long" />
		<column name="versionPortlet" type="long" />
		<column name="name" type="String" />
	</entity>
	
	<!-- url -->
	<entity name="UrlUsecase" remote-service="false" local-service="true">
		<column name="urlUsecaseId" type="long" primary="true" />
		<column name="usecaseId" type="long" />
		<column name="url" type="String" />
		<column name="order" type="int" />
	</entity>
	
	<!-- table used to share data between recorder page and servlet filter -->
	<entity name="RecordPortlet" remote-service="false" local-service="true">
		<column name="recordPortletId" type="long" primary="true"/>
		<column name="portletId" type="String" />
		<column name="state" type="String" />
	</entity>

</service-builder>