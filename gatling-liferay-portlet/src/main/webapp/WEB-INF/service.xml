<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE service-builder PUBLIC "-//Liferay//DTD Service Builder 6.2.0//EN" "http://www.liferay.com/dtd/liferay-service-builder_6_2_0.dtd">
<service-builder package-path="com.excilys.liferay.gatling">

	<namespace>StressTool</namespace>
	
	<entity name="Simulation" local-service="true" remote-service="false">
		<column name="simulation_id" type="long" primary="true"></column>
		<column name="name" type="String"></column>
		<column name="feederContent" type="String"></column>
		<column name="isFeederAFile" type="boolean"></column>
	</entity>
	
	<entity name="Scenario" local-service="true" remote-service="false">
		<column name="scenario_id" type="long" primary="true"></column>
		<column name="name" type="String" ></column>
		<column name="url_site" type="String"></column>
		<column name="group_id" type="long"></column>
		<column name="simulation_id" type="long"></column>
		<column name="numberOfUsers" type="long"></column>
		<column name="duration" type="long"></column>		
		<finder name="SimulationId" return-type="Collection">
			<finder-column name="simulation_id" />
		</finder>
	</entity>
			
	<!-- Smoothy System -->
	
	<entity name="Process" local-service="true" remote-service="false">
		<column name="process_id" type="long" primary="true"></column>
		<column name="name" type="String" ></column>
		<column name="type" type="String" ></column>
		<column name="order" type="int"	></column>
		<column name="pause" type="int"></column>
		<column name="scenario_id" type="long"></column>
		<column name="recordId" type="Long" convert-null="false"></column>
		<order by="asc"> <order-column name="order" /></order>
		<finder name="ScenarioId" return-type="Collection">
			<finder-column name="scenario_id" />
		</finder>
	</entity>
	
	<!-- Advanced System -->
	
	<entity name="Request" local-service="true" remote-service="false">
		<column name="request_id" type="long" primary="true"></column>
		<column name="scenario_id" type="long"></column>
		<column name="weight" type="double"></column>
		<column name="privatePage" type="boolean"></column>
		<column name="parentPlId" type="long"></column>
		<column name="layoutId" type="long"></column>
		<column name="plId" type="long"></column>
		<column name="portlet" type="boolean"></column>
		<column name="portletId" type="String"></column>
		<finder name="ParentPlid" return-type="Collection">
			<finder-column name="parentPlId" />
		</finder>	
		<finder name="ParentPlidAndScenario" return-type="Collection">
			<finder-column name="parentPlId" />
			<finder-column name="scenario_id" />
		</finder>	
		<finder name="ParentPlidAndScenarioAndPositif" return-type="Collection">
			<finder-column name="parentPlId" />
			<finder-column name="scenario_id" />
			<finder-column name="weight" comparator="!=" />
		</finder>		
		<finder name="ScenarioId" return-type="Collection">
			<finder-column name="scenario_id" />
		</finder>		
		<finder name="ScenarioIdAndUsed" return-type="Collection">
			<finder-column name="scenario_id" />
			<finder-column name="weight" comparator="!=" />
		</finder>		
		<finder name="ScenarioIdAndIsNotPortlet" return-type="Collection">
			<finder-column name="scenario_id" />
			<finder-column name="portlet" />
		</finder>
		<finder name="ScenarioIdAndUsedAndIsNotPortlet" return-type="Collection">
			<finder-column name="scenario_id" />
			<finder-column name="portlet" />
			<finder-column name="weight" comparator="!=" />
		</finder> 
		<finder name="portletId" return-type="Collection">
			<finder-column name="portletId"  />
		</finder>
	</entity>
	
	
		
	<!-- link between a use case and portlet in scenario (library) -->
	<entity name="LinkUsecaseRequest" remote-service="false" local-service="true">
		<column name="linkUsecaseRequestId" type="long" primary="true" />
		<column name="request_id" type="long" />
		<column name="recordId" type="long" />
		<column name="weight" type="double" />
		<column name="sample" type="boolean" />	
		<finder name="RequestIdAndUsed" return-type="Collection">
			<finder-column name="request_id" />
			<finder-column name="weight" comparator="!=" />
		</finder>
		<finder name="RequestIdAndrecordId" return-type="Collection">
			<finder-column name="request_id" />
			<finder-column name="recordId" />
		</finder>
		<finder name="RequestId" return-type="Collection">
			<finder-column name="request_id" />
		</finder>
		<finder name="RecordId" return-type="Collection">
			<finder-column name="recordId" />
		</finder>
	</entity>
	
	<!-- Records  -->
	
	<entity name="Record" remote-service="false" local-service="true">
		<column name="recordId" type="long" primary="true" />
		<column name="portletId" type="String" />
		<column name="versionPortlet" type="String" />
		<column name="name" type="String" />
		<finder name="PortletId" return-type="Collection">
			<finder-column name="portletId" />
		</finder>
		<finder name="Name" return-type="Record" unique="true">
			<finder-column name="name" />
		</finder>
	</entity>
	
	<!-- url -->
	<entity name="UrlRecord" remote-service="false" local-service="true">
		<column name="urlRecordId" type="long" primary="true" />
		<column name="recordId" type="long" />
		<column name="url" type="String" />
		<column name="type" type="String" />
		<column name="order" type="int" />
		<finder name="RecordId" return-type="Collection">
			<finder-column name="recordId" />
		</finder>
	</entity>
	
	<!-- Form parameters -->
	<entity name="FormParam" remote-service="false" local-service="true">
		<column name="formParamId" type="long" primary="true" />
		<column name="urlRecordId" type="long" />
		<column name="data" type="String" />
		<column name="type" type="String" />
		<finder name="UrlRecordId" return-type="FormParam" unique="true" >
			<finder-column name="urlRecordId" />
		</finder>
	</entity>
	
</service-builder>
